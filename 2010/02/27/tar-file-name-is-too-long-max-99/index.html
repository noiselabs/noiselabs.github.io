
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    
    <title>tar: file name is too long (max 99) | noiselabs.org</title>

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="tar: file name is too long (max 99)">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="tar: file name is too long (max 99)">
    <meta property="og:description" content="">

    <link href="../../../../assets/images/favicon.ico?v=407c32d6f3" rel="shortcut icon" type="image/x-icon">
    <link href="../../../../assets/images/apple-touch-icon-precomposed.png?v=407c32d6f3" rel="apple-touch-icon">

    
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Bangers%7CBitter%7CTelex">
    <link rel="stylesheet" type="text/css" href="../../../../assets/css/screen.css?v=407c32d6f3">
    <link rel="stylesheet" type="text/css" href="../../../../assets/css/prism.css?v=407c32d6f3">
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-18238226-8', 'auto');
        ga('send', 'pageview');

    </script>

    
    <meta name="generator" content="Ghost 0.5">
<link rel="alternate" type="application/rss+xml" title="noiselabs.org" href="../../../../rss/index.html">
<link rel="canonical" href="index.html">

</head>
<body class="post-template tag-linux no-js">

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    <header class="panel-cover panel-cover--collapsed nl-blog" style="background-image: url(../../../../content/images/2014/Mar/bodybg.jpg)">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        
        <a id="nl-blog-logo" href="../../../../index.html#blog" class="blog-button"><img src="../../../../content/images/2014/Mar/noisebleed-1.gif" width="50" alt="noiselabs.org logo" class="panel-cover__logo logo"></a>
        
        <span class="panel-cover__welcometo">Welcome to</span>
        <h1 class="panel-cover__title panel-title"><a href="../../../../" title="">noiselabs.org</a></h1>
        
        <p class="panel-cover__description">Commited to Open Source.</p>
        <span class="panel-cover__subtitle panel-subtitle">– by Vítor Brandão –</span>
        <hr class="panel-cover__divider panel-cover__divider--secondary">
        <div class="navigation-wrapper">

          

<nav class="cover-navigation navigation--social">
  <ul class="navigation">
    
    <li class="navigation__item">
      <a href="https://github.com/noisebleed" title="GitHub">
        <i class="icon icon-social-github"></i>
        <span class="label">GitHub</span>
      </a>
    </li>
    
    <li class="navigation__item">
      <a href="https://stackoverflow.com/users/545442/noisebleed" title="Stack Overflow">
        <i class="icon icon-social-stack-overflow"></i>
        <span class="label">Stack Overflow</span>
      </a>
    </li>
    
    <li class="navigation__item">
        <a href="http://twitter.com/noiselabs" title="Twitter">
        <i class="icon icon-social-twitter"></i>
        <span class="label">Twitter</span>
        </a>
    </li>
    
    <li class="navigation__item">
      <a href="https://plus.google.com/u/0/115752578182957353373" title="Google+">
        <i class="icon icon-social-google-plus"></i>
        <span class="label">Google</span>
      </a>
    </li>
    
    <li class="navigation__item">
      <a href="https://www.linkedin.com/in/vitorbrandao" title="LinkedIn">
        <i class="icon icon-social-linkedin"></i>
        <span class="label">LinkedIn</span>
      </a>
    </li>
    
    <li class="navigation__item">
      <a href="mailto:vitor@noiselabs.org" title="Email">
        <i class="icon icon-mail"></i>
        <span class="label">Email</span>
      </a>
    </li>
  </ul>
</nav>

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="../../../../index.html#blog" title="Go to the Blog" class="blog-button">Blog</a></li>
            </ul>
          </nav>

        </div>
      </div>
    </div>

    <div class="panel-cover--overlay cover-simple"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            



  <article class="post-container post-container--single">

    <header class="post-header">
      <div class="post-meta">
        <time datetime="27 Feb 2010" class="post-meta__date date">27 Feb 2010</time> • <span class="post-meta__tags tags">on <a href="../../../../tag/linux/">Linux</a></span>
        <span class="post-meta__author author"><img src="http://www.gravatar.com/avatar/ff6c0924f29e34b3b3da41a36c4851a8?d=404" alt="Vítor Brandão" class="avatar post-meta__avatar"> by Vítor Brandão</span>
      </div>
      <h1 class="post-title">tar: file name is too long (max 99)</h1>
    </header>

    <section class="post tag-linux">
      <p>I was doing the usual <code>make dist</code> process to launch a tarball for one of my apps when <em>tar</em> died with the following message:</p>

<pre><code>tar: file name is too long (max 99); not dumped
tar: Error exit delayed from previous errors
</code></pre>

<p>If you happen to see the same error message it is quite likely that you (and by <em>you</em> I mean <em>Automake</em>) are using the old V7 tar format.</p>

<p><em>Want to skip details? Then just scroll to the end and check the solution ;-)</em></p>

<h3 id="v7andothertarformats">V7 and other tar formats</h3>

<p>By default <strong>Automake is pulling the historical V7 format</strong> to generate the tarball with make dist. This tar format supports file names only up to 99 characters and that's why tar is refusing to build the tarball.</p>

<p>Since automake 1.9, the tar format can be chosen with the options <code>tar-v7</code>, <code>tar-ustar</code> and <code>tar-pax</code>.</p>

<p>This is what the <a href="http://www.gnu.org/software/hello/manual/automake/Options.html">Automake manual</a> says about each option:</p>

<h4 id="tarv7">tar-v7</h4>

<blockquote>
  <p>This is the historical default. This antiquated format is understood by all tar implementations and supports file names with up to 99 characters. When given longer file names some tar implementations will diagnose the problem while other will generate broken tarballs or use non-portable extensions. Furthermore, the V7 format cannot store empty directories.</p>
</blockquote>

<h4 id="tarustar">tar-ustar</h4>

<blockquote>
  <p>(...) format defined by POSIX 1003.1-1988. This format is believed to be old enough to be portable. It fully supports empty directories. It can store file names with up to 256 characters, provided that the file name can be split at directory separator in two parts, first of them being at most 155 bytes long. So, in most cases the maximum file name length will be shorter than 256 characters. However you may run against broken tar implementations that incorrectly handle file names longer than 99 characters.</p>
</blockquote>

<h4 id="tarpax">tar-pax</h4>

<blockquote>
  <p>(...) the new pax interchange format defined by POSIX 1003.1-2001. It does not limit the length of file names. However, this format is very young and should probably be restricted to packages that target only very modern platforms. There are moves to change the pax format in an upward-compatible way, so this option may refer to a more recent version in the future.</p></blockquote>


<h3 id="howtofixit">How to fix it?</h3>

<p>The solution is to <strong>pick a newer and better tar implementation like tar-pax</strong>. Go to <code>configure.ac</code> or <code>configure.in</code> and change the <code>AM_INIT_AUTOMAKE</code> macro so it specifies the tar format and requires automake version to be 1.9 or better as tar-pax is only supported since 1.9.</p>

<p>Edit <code>configure.ac/configure.in</code>:</p>

<pre><code>AM_INIT_AUTOMAKE([1.9 tar-pax])
</code></pre>

<p>Now run <code>make dist</code> again and tar won't bother you anymore (at least with this error :)).</p>
    </section>

  </article>

  <section class="nl-post-share">
    <nav class="cover-navigation navigation--social">
        <ul class="navigation">
            <li class="navigation__item nl-post-share-title">
                Share this post:
            </li>
            <li class="navigation__item">
                <a href="http://twitter.com/share?text=tar:%20file%20name%20is%20too%20long%20(max%2099)&amp;url=http://127.0.0.1:2368/2010/02/27/tar-file-name-is-too-long-max-99/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="icon icon-social-twitter"></i>
                </a>
            </li>
            <li class="navigation__item">
                <a href="https://www.facebook.com/sharer/sharer.php?u=http://127.0.0.1:2368/2010/02/27/tar-file-name-is-too-long-max-99/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="icon icon-social-facebook"></i>
                </a>
            </li>
            <li class="navigation__item">
                <a href="https://plus.google.com/share?url=http://127.0.0.1:2368/2010/02/27/tar-file-name-is-too-long-max-99/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="icon icon-social-google-plus"></i>
                </a>
            </li>
        </ul>
    </nav>
  </section>
  <section class="post-comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
        var disqus_shortname = 'noiselabs';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>




            <footer class="footer">
    <span class="footer__copyright footer__author">© 2014 <a href="mailto:vitor@noiselabs.org">Vítor Brandão</a>. All rights reserved.</span>
    <br>
    <span class="footer__copyright">Background image from the Wordpress <a rel="external" href="http://www.beacontechnologies.com/">Light Graffiti.</a> theme</span>
    <span class="footer__copyright">Based on the <a href="http://uno.daleanthony.com" title="Uno Ghost theme">Uno theme</a> by <a href="http://daleanthony.com" title="Dale-Anthony website">Dale-Anthony</a>.</span>
    <span class="footer__copyright">Terminal icon from the <a rel="external" href="http://www.oxygen-icons.org/">Oxygen</a> package.</span>
    <span class="footer__copyright">Proudly published with <a class="icon-ghost" href="http://ghost.org" title="Ghost website">Ghost</a>.</span>
</footer>
        </div>
    </div>

    
    <script src="../../../../public/jquery.js?v=407c32d6f3"></script>

    
    <script type="text/javascript" src="../../../../assets/js/main.js?v=407c32d6f3"></script>
    <script type="text/javascript" src="../../../../assets/js/prism.js?v=407c32d6f3"></script>

</body>
